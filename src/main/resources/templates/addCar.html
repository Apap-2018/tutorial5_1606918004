<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.com">
  <head>
    <title th:replace="fragments/fragment :: header('Add Car')"></title>
    <object th:include="fragments/fragment :: css" th:remove="tag"></object>
    <object th:include="fragments/fragment :: js" th:remove="tag"></object>
    
  </head>

  <body>
 	<nav th:replace="fragments/fragment :: navbar"></nav>
    <h2>Hello!</h2>

    <h3>Tambah Mobil</h3>
    <form th:action="@{'/car/add/' + ${dealerID}}" th:object="${car}" method="POST">
      <input type="hidden" th:field="*{dealer.id}" />
      <table>
			<thead>
    			<tr>
        			<th>Brand</th>
					<th>Type</th>
					<th>Price</th>
					<th>Amount</th>
      				<th><button type="submit" name="addRow">Tambah</button></th>
    			</tr>
  			</thead>
  			<tbody>
    			<tr th:each="car,rowStat : *{dealer.listCar}">
     				<td><input type="text" th:field="*{dealer.listCar[__${rowStat.index}__].brand}" /></td>
					<td><input type="text" th:field="*{dealer.listCar[__${rowStat.index}__].type}" /></td>
					<td><input type="number" th:field="*{dealer.listCar[__${rowStat.index}__].price}" /></td>
					<td><input type="number" th:field="*{dealer.listCar[__${rowStat.index}__].amount}" /></td>
      				<td><button type="submit" name="removeRow" th:value="${rowStat.index}">Hapus</button></td>
    			</tr>
  			</tbody>
		</table>
      <button type="submit" name="save">Submit</button>
    </form>
  </body>

</html>
